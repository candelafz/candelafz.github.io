<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoteIt</title>
    <link rel="stylesheet" href="css/stylesmain.css">
</head>
<body>
  <header class="header">
    <div class="logo">
      <img src="images/iconoNoteIt.png" alt="Icono NoteIt" class="logo-icon">
      <h1>NoteIt</h1>
    </div>
  </header>
  <div class="wrapper" id="contenedor-notas"> <!-- solo le agregue un nombre más identificable -->
      <div class="add-box" onclick="agregarNota()">  <!-- sirve para el script de js -->
        <div class="icon"><i class="uil uil-plus"></i></div>
        <p>Agregar nueva nota</p>
      </div>
  </div>

  <script>
    function agregarNota() { 
      const contenedor = document.getElementById('contenedor-notas');
      const nuevaNota = document.createElement('div'); // crea la nota nueva
      nuevaNota.classList.add('note-box');  

      // Obtener la fecha y hora actual
      const fechaHora = new Date();
      const fechaHoraTexto = fechaHora.toLocaleString(); // Formato de fecha y hora

      // Aquí se define el contenido de la nueva nota
      nuevaNota.innerHTML = ` 
        <h3 class="note-title" contenteditable="true">Título de nota</h3>
        <p class="note-content" contenteditable="true">Agregar texto :)</p>
        <div class="note-footer">
          <span class="note-date">${fechaHoraTexto}</span>
          <button class="delete-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#76448a" stroke-width="2">
        <path d="M3 6h18M5 6l1 16h12l1-16H5z" />
        <path d="M10 11v6M14 11v6" />
        <path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2" />
        </svg>
            </button>
          </div>
      `;
        //funcion para borrar nota
        nuevaNota.querySelector('.delete-btn').addEventListener('click', function(e) {
          e.stopPropagation(); // esto por ahora no anda, va a servir en un futuro para ampliar la nota y que no se rompa nada
          nuevaNota.remove();
        });

      const cajaAgregar = contenedor.querySelector('.add-box'); 
      contenedor.insertBefore(nuevaNota, cajaAgregar.nextSibling); // agrega la nueva nota después del botón agregar nueva nota
    }                                                             
  </script>
</body>
</html>